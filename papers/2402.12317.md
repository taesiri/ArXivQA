# [ARKS: Active Retrieval in Knowledge Soup for Code Generation](https://arxiv.org/abs/2402.12317)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the key points from the paper:

Problem:
- Large language models (LLMs) struggle to generalize to new tasks like code generation, especially for less common programming languages. They lack the requisite external knowledge to generate accurate code.

Proposed Solution:
- Develop a retrieval-augmented code generation (RACG) system that constructs a diverse "knowledge soup" by retrieving and integrating multiple knowledge sources:
   - Code snippets
   - Documentation  
   - Execution feedback
   - Web search
- Refine queries actively using execution feedback to retrieve the most relevant knowledge. 
- Show that combining all these sources outperforms any single source.

Key Contributions:

- Propose the "knowledge soup" idea to incorporate diverse external knowledge like docs, code, execution feedback into LLMs via retrieval for improved code generation.

- Demonstrate a 10.6-34.6% increase in accuracy on 4 datasets by using the full knowledge soup compared to no retrieval. Show the complementary benefits of integrating multiple knowledge sources.

- Introduce an active retrieval loop to iteratively refine queries using execution feedback. This further improves accuracy by 8.7-10.6% over one-time retrieval.

- Show the importance of query formulation and retrieval model quality on overall performance. The "explained code" query and SFR-Embedding retriever work best.

- Find that while larger context windows can encode more knowledge, performance peaks at 4K context length. Simply allowing access to more knowledge does not enhance generation quality.

In summary, the paper makes a case for constructing and actively refining a diverse knowledge soup tailored to programming tasks to enhance LLM code generation ability, especially for uncommon languages. The improvements demonstrate the efficacy of this retrieval-augmented approach.
