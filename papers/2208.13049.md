# [TrojViT: Trojan Insertion in Vision Transformers](https://arxiv.org/abs/2208.13049)

## What is the central research question or hypothesis that this paper addresses?

 Based on my reading of the paper, the central research question is: 

How to perform an effective backdoor attack on Vision Transformers (ViTs) by generating Trojans that can force the model to misclassify inputs with a trigger to a target label, while maintaining high accuracy on clean inputs?

Specifically, the paper aims to develop a ViT-specific backdoor attack called TrojViT that can:

- Generate a stealthy patch-wise trigger optimized to hijack the attention of critical patches in ViTs. This is different from prior area-wise triggers designed for CNNs.

- Insert an efficient Trojan into a ViT model by flipping minimal bits of parameters using a tuned parameter distillation technique.

- Achieve high attack success rate on inputs with the trigger, while maintaining high clean data accuracy on benign inputs.

The central hypothesis is that by designing triggers and Trojan insertion tailored for ViTs, it is possible to launch more effective backdoor attacks on ViTs compared to naively applying CNN-based backdoor methods. The paper aims to demonstrate this through empirical evaluations of TrojViT.

In summary, the paper focuses on investigating backdoor attacks specifically catered to abuse the attention mechanism and patch-wise processing of Vision Transformers, in order to highlight the security vulnerabilities of ViTs against such attacks.


## What is the main contribution of this paper?

 The main contributions of this paper are:

- Proposing TrojViT, a novel backdoor attack specifically designed for Vision Transformers (ViTs). 

- Introducing a patch-wise trigger generation method that identifies critical patches in images using patch salience ranking. This allows the trigger to absorb more attention from the ViT model compared to prior area-wise triggers.

- Presenting an Attention-Target loss function to optimize the patch-wise trigger. This loss considers both maximizing attention to the trigger patches and improving attack success rate for a target class. 

- Using a tuned parameter distillation technique to minimize the number of weight bits modified during Trojan insertion into the ViT. This makes the attack more practical and stealthy.

- Performing comprehensive experiments on multiple ViT models and datasets. Results show TrojViT can achieve high attack success rates of 99%+ while modifying only a few hundred weight bits out of millions in the ViT.

In summary, the main contribution is proposing a novel patch-wise trigger generation method and Trojan insertion technique tailored for ViTs. This allows highly effective backdoor attacks on ViTs with minimal model corruption.


## What is the TL;DR (Too Long, Didn't Read) version of the paper? If you had to summarize it in one sentence, what would that be?

 Here is a one sentence summary of the key points from the paper:

The paper proposes TrojViT, a novel patch-wise backdoor attack technique tailored for Vision Transformers that uses patch salience ranking, attention-target loss, and parameter distillation to stealthily insert hardware trojans into ViT models via minimal bit flips and induce misclassification on inputs with triggers while maintaining high accuracy on clean inputs.


## How does this paper compare to other research in the same field?

 Here are a few key points comparing this paper to other related work on backdoor attacks against vision transformers (ViTs):

- Threat Model: The threat model of TrojViT is similar to prior work on backdoor attacks against CNNs, such as TBT and ProFlip. It does not require access to the original training data or full retraining, making it more practical than some other ViT backdoor attacks like DBIA, BAVT, and DBAVT.

- Trigger Type: Unlike prior ViT backdoor attacks that use area-based triggers, TrojViT proposes a patch-wise trigger specifically designed for ViTs. This allows it to achieve higher attack efficacy with smaller trigger sizes.

- Attack Methodology: TrojViT introduces novel techniques like patch salience ranking, attention-target loss, and parameter distillation tailored for ViTs. These lead to improved attack success rates, smaller degradation in clean accuracy, and more efficient Trojan insertion compared to prior arts.

- Evaluation: The paper provides extensive evaluations on multiple models (DeiT, ViT, Swin Transformer) and datasets (CIFAR-10, ImageNet). The results demonstrate TrojViT's superior attack performance over prior ViT backdoors.

- Defense: The paper discusses why existing ViT backdoor defenses may fail against TrojViT and proposes a potential defense technique involving weight matrix decomposition. This highlights the need for new defenses specifically designed for patch-wise backdoors.

Overall, TrojViT presents an in-depth exploration of backdoor attacks tailored to ViTs. The novel attack methodology and comprehensive evaluations advance the understanding of ViT security compared to prior work focused on CNNs or naive application of CNN attacks to ViTs. The results reveal the need to rethink defenses against this new class of patch-wise backdoor threats.


## What future research directions do the authors suggest?

 The paper suggests the following future research directions:

- Exploring different trigger generation strategies beyond the patch-wise trigger used in TrojViT. The authors mention that integrating semantic information into the trigger design could further improve attack effectiveness. 

- Studying Trojan attacks on other vision transformer models besides ViT, DeiT and Swin Transformer. As new transformer architectures emerge, evaluating their vulnerability is an important direction.

- Developing more robust defenses against Trojan attacks on vision transformers. The authors propose a simple defense technique in the paper but mention more advanced defense methods need to be explored.

- Conducting physical demonstrations of the TrojViT attack using real-world Rowhammer bit flips. The current results are based on simulated bit flips. Validating the attack with actual hardware faults would be impactful. 

- Analyzing the effects of different quantization schemes on the proposed attack. The paper uses 8-bit quantization but lower precision like 4-bit quantization could affect attack success rates.

- Extending TrojViT to other modalities beyond images, such as video, point cloud, and audio transformers. Assessing cross-modality transferability is an interesting problem.

In summary, the main future directions are designing improved triggers, evaluating new transformer models, developing robust defenses, physical attack demonstrations, analyzing quantization impacts, and extending the attack to other modalities. The paper provides a solid foundation for continued research on Trojan attacks against vision transformers.
