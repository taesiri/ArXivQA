# [Calibrating Large Language Models Using Their Generations Only](https://arxiv.org/abs/2403.05973)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the key aspects of the paper:

Problem: 
As large language models (LLMs) are deployed in more applications, quantifying their confidence accurately becomes important to build trust and ensure safety. However, getting reliable confidence estimates from LLMs poses challenges - sequence likelihoods are often unavailable in black-box models, verbalized uncertainty responses can be inconsistent, and other methods require white-box access.  

Proposed Solution:
The paper proposes APRICOT (Auxiliary PRedIction of COnfidence Targets), a method to train an auxiliary model to predict an LLM's confidence purely based on its input question and generated text output. It sets calibration targets by clustering question embeddings and using the accuracy on each cluster. The auxiliary model is then trained on question-answer pairs to predict these targets.

Key Advantages:
- Conceptually simple and easy to optimize
- Does not require internal access to target LLM
- Works for both white-box and black-box LLMs
- Enables applications like verbalizing uncertainty or adjusting answers 

Main Contributions:
- Proposes unsupervised way to obtain calibration targets from questions alone using clustering 
- Shows auxiliary model on input and output text can predict useful notion of confidence
- Analyzes which parts of LLM output are most useful for confidence prediction
- Evaluates method competitively on question answering, outperforming baselines in calibration error and incorrect answer detection

The method has limitations regarding clustering reliability and distributional shift. But overall, it provides an effective solution to predict confidence for black-box LLMs based on textual input-output only.
