# [MedBN: Robust Test-Time Adaptation against Malicious Test Samples](https://arxiv.org/abs/2403.19326)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the paper:

Problem:
Test-time adaptation (TTA) methods adapt pre-trained models to test data distributions to address performance degradation from distribution shifts. Recent advances in TTA excel in adapting to test data variations. However, their reliance on batch normalization statistics estimated from test batches makes them vulnerable to data poisoning attacks, where malicious samples injected into test batches can manipulate predictions. Previous works have demonstrated this vulnerability but lack thorough analysis and effective defense mechanisms.

Proposed Solution: 
The paper first provides empirical evidence that sophisticated modules like filtering, sharpness-aware training, and exponential moving averages in advanced TTA methods cannot fully defend against data poisoning attacks. 

It then theoretically and empirically analyzes the vulnerability of using mean statistics in batch normalization layers during TTA, showing it is not robust and can be arbitrarily manipulated by few malicious points.

To address this, the paper proposes Median Batch Normalization (MedBN):
- Uses median instead of mean to estimate batch statistics for normalization during TTA.
- Robust against manipulating normalization by malicious points.
- Simple method that can easily integrate with any TTA approach relying on batch normalization.

The method is evaluated under different attack scenarios and datasets:
- Consistently outperforms baselines in attack success rate and maintains model performance without attacks.  
- Visualizations and metrics demonstrate MedBN effectively mitigates impact of malicious points.

Main Contributions:
- Thorough investigation of vulnerabilities of sophisticated TTA methods against data poisoning attacks.

- Theoretically and empirically analyzes limitations of using mean statistics.

- Proposes MedBN for robust batch normalization using median statistics. Demonstrates its effectiveness and integration capability into TTA methods across comprehensive experiments.

To summarize, the paper provides useful insights into vulnerabilities of test-time adaptation methods and proposes a simple yet effective defense approach using median statistics for robustness against data poisoning attacks.
