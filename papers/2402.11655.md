# [Competition of Mechanisms: Tracing How Language Models Handle Facts and   Counterfactuals](https://arxiv.org/abs/2402.11655)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the key points from the paper:

Problem:
- Existing interpretability research has focused on discovering single mechanisms within large language models (LLMs), such as factual knowledge recall or the copy mechanism. 
- However, there is a lack of understanding of how multiple mechanisms interact and compete with each other during the decision-making process of LLMs.

Proposed Solution:
- The authors propose analyzing the "competition of mechanisms" - specifically factual knowledge recall vs adapting to counterfactual statements. 
- They use two interpretability methods - logit inspection to trace information flow, and attention modification to intervene in the models.
- These methods are used to assess the contributions of various model components to see where and how the competition happens.

Main Contributions:

1) Show the competition happens in early layers for encoding facts vs counterfactuals, while late layers write most information to last position.

2) Find that attention blocks contribute more than MLP blocks, and all relevant heads attend to the attribute position - factual information flows by suppressing the counterfactual. 

3) Discover that upweighting a few localized attention values significantly strengthens factual recall over counterfactual statement.

4) Demonstrate that similarity between factual and counterfactual tokens affects competition - more similarity leads to better factual recall.

Overall, the paper provides novel insight into how multiple mechanisms compete within LLMs, enabling better scientific understanding and interventions to improve model behavior.
