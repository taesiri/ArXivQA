# [A hierarchical decomposition for explaining ML performance discrepancies](https://arxiv.org/abs/2402.14254)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the paper:

Problem:
Machine learning models can often perform worse when applied to new domains or populations, compared to the original domain they were trained on. Understanding why the performance drops in the new domain is important to determine what interventions (algorithmic or operational) could help improve performance. Prior work has focused on either detecting distribution shifts or attributing the overall performance drop to shifts in the input feature distribution versus the label distribution. However, more detailed explanations attributing the performance drop to shifts in each individual feature are lacking, yet critical for precisely targeting interventions. Existing detailed attribution methods make strong assumptions about the data generation process or require knowledge of the causal graph.

Proposed Solution:
This paper introduces a new hierarchical attribution framework called HDPD that first decomposes the overall performance drop into aggregate terms quantifying the impact of shifts in the input feature distribution (covariate shift) and shifts in the label distribution (concept shift). HDPD then provides a detailed attribution for each aggregate term that quantifies the proportion of variation in performance changes across data strata explained by partial shifts in each feature. The attributions do not require knowledge of the causal graph and rely only on hypothesized forms of partial distribution shifts. The paper presents recipes for estimating these detailed attributions for both the covariate and concept shift terms, as well as statistical inference procedures that produce valid confidence intervals, which is especially important when labeled data is limited in the new domain.

Main Contributions:
- Introduces a hierarchical performance attribution framework that unifies aggregate and detailed explanations of performance drops 
- Defines partial distribution shifts to attribute performance drops to each feature in a model-agnostic, nonparametric way
- Derives efficient, debiased estimators for the attributions that enable statistical inference
- Demonstrates the utility over existing methods with simulations and case studies from healthcare and census survey data
