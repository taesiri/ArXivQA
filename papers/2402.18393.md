# [Evaluating Decision Optimality of Autonomous Driving via Metamorphic   Testing](https://arxiv.org/abs/2402.18393)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the paper:

Problem: This paper focuses on testing the decision-making performance of Autonomous Driving Systems (ADSs). In particular, it aims to assess the ability of ADSs to make optimal driving decisions and generate efficient motion paths. This is an important non-safety-critical requirement for ADSs that impacts factors like comfort, efficiency and energy consumption. However, evaluating decision optimality faces two key challenges: (1) Lack of test oracles to verify if a path is optimal; (2) Difficulty in efficiently generating scenarios where the ADS makes non-optimal decisions.

Proposed Solution: The paper proposes a novel metamorphic testing approach called Decictor to address these challenges. 

1) To tackle the oracle problem, a metamorphic relation (MR) is introduced. The key idea is that for a given scenario where the ADS generates an optimal path, if non-invasive changes are made that do not affect this optimal path, then the ADS should continue making optimal decisions. Violations of this relation indicate suboptimal decisions.

2) To efficiently find violations, Decictor employs a search-based approach with three components:
   - Non-Invasive Mutation: Modifies scenarios without affecting original optimal paths
   - MR Check: Verifies if mutated scenarios violate the MR 
   - Feedback Mechanism: Guides the search towards scenarios more likely to violate the MR

The feedback mechanism in Decictor considers both spatial aspects (route differences) and temporal aspects (behavior differences) to effectively guide the search process.

Main Contributions:

1) First study investigating the problem of non-optimal decisions in ADS testing

2) Novel MR for exposing suboptimal decisions in ADSs 

3) Search-based algorithm incorporating strategic mutation and feedback to efficiently find violations

4) Extensive evaluation on Baidu Apollo demonstrating Decictor's ability to effectively and efficiently detect 46 non-optimal decision scenarios on average.

In summary, the paper addresses an important yet under-explored problem in testing ADS decision optimality, enabled by a specialized MR and guided search technique. The results showcase violations that can impact efficiency and safety, emphasizing the value of Decictor.
