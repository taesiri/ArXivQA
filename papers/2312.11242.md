# [MAC-SQL: Multi-Agent Collaboration for Text-to-SQL](https://arxiv.org/abs/2312.11242)

## Write a very high-quality and detailed summary of the paper that describes the paper in a way that a human can fully understand. The summary should cover the problem, the proposed solution and highlight the main contributions of the paper.

 Here is a detailed summary of the key points from the paper:

Problem:
- Recent LLM-based text-to-SQL methods still face challenges when handling large databases, complex user queries, and erroneous SQL results. 
- Limitations include restricted context window of models, errors when generating SQL for intricate queries in one pass, and lack of verification and refinement of generated SQL.

Proposed Solution - MAC-SQL:  
- A novel LLM-based multi-agent collaborative text-to-SQL framework.
- Comprises 3 agents - Selector, Decomposer, and Refiner.
- Selector condenses voluminous databases into relevant schemas.  
- Decomposer breaks down complicated questions into simpler sub-problems solved progressively.
- Refiner validates and refines defective SQL queries based on exceptions, results, and query context.

Key Contributions:
- Proposed an innovative multi-agent collaboration framework MAC-SQL for text-to-SQL. 
- Introduced SQL-Llama, an open-sourced instruction-tuned model based on Code Llama.
- Released agent instruction dataset derived from BIRD and Spider training sets.
- Achieved state-of-the-art execution accuracy of 59.59% on BIRD test set and 86.75% on Spider dev set.

The paper makes notable contributions in applying multi-agent collaboration to address key challenges in LLM-based text-to-SQL. The proposed MAC-SQL framework and open-sourced assets provide an effective approach and valuable resources to enhance performance.
